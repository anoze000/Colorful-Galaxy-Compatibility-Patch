### Federations Scripted Triggers
nirvana_losing_defensive_war = {
	optimize_memory
	any_war = {
		any_defender = {
			is_same_value = root
		}
		any_attacker = {
			OR = {
				relative_power = {
					who = root
					category = fleet
					value = overwhelming
				}
				relative_power = {
					who = root
					category = fleet
					value = superior
				}
			}
		}
		defender_war_exhaustion > 0.3
		attacker_war_exhaustion < 0.7
	}
}

nirvana_losing_offensive_war = {
	optimize_memory
	any_war = {
		any_attacker = {
			is_same_value = root
		}
		any_defender = {
			OR = {
				relative_power = {
					who = root
					category = fleet
					value = overwhelming
				}
				relative_power = {
					who = root
					category = fleet
					value = superior
				}
			}
		}
		attacker_war_exhaustion > 0.4
		defender_war_exhaustion < 0.7
	}
}

nirvana_losing_defensive_war_combatant = {
	optimize_memory
	any_war = {
		any_defender = {
			is_same_value = root
		}
		any_attacker = {
			is_same_value = prevprev
			OR = {
				relative_power = {
					who = root
					category = fleet
					value = overwhelming
				}
				relative_power = {
					who = root
					category = fleet
					value = superior
				}
			}
		}
		defender_war_exhaustion > 0.3
		attacker_war_exhaustion < 0.7
	}
}

nirvana_losing_offensive_war_combatant = {
	optimize_memory
	any_war = {
		any_attacker = {
			is_same_value = root
		}
		any_defender = {
			is_same_value = prevprev
			OR = {
				relative_power = {
					who = root
					category = fleet
					value = overwhelming
				}
				relative_power = {
					who = root
					category = fleet
					value = superior
				}
			}
		}
		attacker_war_exhaustion > 0.4
		defender_war_exhaustion < 0.7
	}
}

is_ap_engineered_evolution_str = {
	OR = {
		has_ascension_perk = ap_engineered_evolution
		has_ascension_perk = ap_toho4
		has_ascension_perk = ap_hm4
		has_ascension_perk = ap_mist
		has_ascension_perk = ap_shenhai_silent
		has_ascension_perk = ap_shenhai_icebreaking
		has_ascension_perk = ap_galactic_empire
		has_ascension_perk = ap_lustgod_tentacle_symbiosis
		has_ascension_perk = ap_TARDIS
		has_ascension_perk = ap_project_s
		has_ascension_perk = ap_uf_2
		has_ascension_perk = ap_become_the_gray
		has_ascension_perk = ap_GF_nyto_resurrection
	}
}

is_ap_mind_over_matter_str = {
	OR = {
		has_ascension_perk = ap_mind_over_matter
		has_ascension_perk = ap_toho4
		has_ascension_perk = ap_hm4
		has_ascension_perk = ap_mist
		has_ascension_perk = ap_shenhai_silent
		has_ascension_perk = ap_shenhai_icebreaking
		has_ascension_perk = ap_galactic_empire
		has_ascension_perk = ap_lustgod_tentacle_symbiosis
		has_ascension_perk = ap_TARDIS
		has_ascension_perk = ap_project_s
		has_ascension_perk = ap_uf_2
		has_ascension_perk = ap_become_the_gray
		has_ascension_perk = ap_GF_nyto_resurrection
	}
}

is_ban_vanilla_ap_country = {
	OR = {
		has_authority = "auth_Arp_0"
		has_civic = civic_AL_newearth
		has_authority = auth_AL_pua_fall
		has_authority = auth_AL_aggressive_fall
		has_authority = "auth_machine_intelligence"
		has_authority = "auth_warshipgirls"
		has_authority = "auth_shenhai"
		has_authority = "auth_starshipgirls"
		has_authority = "auth_asharmdolls"
		has_authority = "auth_united_fleet"
		has_authority = "auth_commonwealth"
		has_authority = "auth_kancolle"
		has_authority = "auth_kan"
		has_authority = "auth_GF_paradeus"
		azurlane_default_govement_trigger = yes
	}
}

is_ban_vanilla_ap_not_wsg_country = {
	OR = {
		has_authority = "auth_Arp_0"
		has_civic = civic_AL_newearth
		has_authority = auth_AL_pua_fall
		has_authority = auth_AL_aggressive_fall
		has_authority = "auth_machine_intelligence"
		has_authority = "auth_starshipgirls"
		has_authority = "auth_asharmdolls"
		has_authority = "auth_commonwealth"
		has_authority = "auth_kancolle"
		has_authority = "auth_kan"
		has_authority = "auth_GF_paradeus"
	}
}

is_genetic_resequencing_country = {
	OR = {
		has_civic = civic_AL_newearth
		has_authority = "auth_gensokyo"
		has_authority = "auth_Arp_0"
		has_authority = "auth_AL_pua_fall"
		has_authority = "auth_AL_aggressive_fall"
		has_authority = "auth_warshipgirls"
		has_authority = "auth_shenhai"
		has_authority = "auth_starshipgirls"
		has_authority = "auth_asharmdolls"
		has_authority = "auth_united_fleet"
		has_authority = "auth_commonwealth"
		has_authority = "auth_kancolle"
		has_authority = "auth_kan"
		has_authority = "auth_GF_paradeus"
		is_species_class = "mahoshoujo"
		azurlane_default_govement_trigger = yes
	}
}

has_any_ai_target_megastructure = {
	OR = {
		has_any_ai_target_danger_megastructure = yes

		has_megastructure = mega_shipyard_3
		has_megastructure = mega_shipyard_ruined
	}
}

has_any_ai_target_danger_megastructure = {
	OR = {
		has_megastructure = AOW_MEGA_starfall_spear_0
		has_megastructure = AOW_MEGA_starfall_spear_1
		has_megastructure = AOW_MEGA_starfall_spear_2
		has_megastructure = AOW_MEGA_starfall_spear_3
		has_megastructure = AOW_MEGA_starfall_spear_4
		has_megastructure = AOW_MEGA_starfall_spear_standby
		has_megastructure = AOW_MEGA_starfall_spear_launch
		has_megastructure = AOW_MEGA_starfall_spear_fire_O
		has_megastructure = AOW_MEGA_starfall_spear_fire_B
		has_megastructure = AOW_MEGA_starfall_spear_fire_A
		has_megastructure = AOW_MEGA_starfall_spear_fire_F
		has_megastructure = AOW_MEGA_starfall_spear_fire_G
		has_megastructure = AOW_MEGA_starfall_spear_fire_K
		has_megastructure = AOW_MEGA_starfall_spear_fire_M

		has_megastructure = AOW_MEGA_miraculous_shipyard_0
		has_megastructure = AOW_MEGA_miraculous_shipyard_1
		has_megastructure = AOW_MEGA_miraculous_shipyard_2
		has_megastructure = AOW_MEGA_miraculous_shipyard_3
		has_megastructure = AOW_MEGA_miraculous_shipyard_4
		has_megastructure = AOW_MEGA_miraculous_shipyard_5

		has_megastructure = uf_galaxy_gun_4
		has_megastructure = uf_galaxy_gun_3
		has_megastructure = uf_galaxy_gun_2
		has_megastructure = uf_galaxy_gun

		has_megastructure = nicoll_beam_0
		has_megastructure = nicoll_beam_1
		has_megastructure = nicoll_beam_2
		has_megastructure = nicoll_beam_3
		has_megastructure = nicoll_beam_4

		has_megastructure = quasi_stellar_obliterator_0
		has_megastructure = quasi_stellar_obliterator_1
		has_megastructure = quasi_stellar_obliterator_2
		has_megastructure = quasi_stellar_obliterator_3
		has_megastructure = quasi_stellar_obliterator_4
		has_megastructure = quasi_stellar_obliterator_5
		has_megastructure = quasi_stellar_obliterator_6
	}
}

is_forbidden_ee_production_var = {
	OR = { 
		has_authority = auth_starshipgirls 
		has_authority = auth_asharmdolls
	}
}