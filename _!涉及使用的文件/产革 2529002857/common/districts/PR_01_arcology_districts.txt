
#	PR理想城	/PR冶金城/PR制造城	/PR文化城	/PR行政城
@TIME_cost = 540
@BASE_cost = 1200
@BASE_upkeep = 5
@ADV_cost = 50
@ADV_upkeep = 1


###	PR理想城
PR_district_ARC_housing = {
	base_buildtime = @TIME_cost
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes

	show_on_uncolonized = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
	}
	potential = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
	}
	convert_to = {
		PR_district_COMMON_housing_regular	# PR住宅区
		PR_district_COMMON_housing_hive
		PR_district_COMMON_housing_machine
		PR_district_ARC_housing		# PR理想城
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @BASE_cost
		}
		upkeep = {
			energy = @BASE_upkeep
		}
	}

	planet_modifier = {
		planet_housing_add = 20
		planet_max_buildings_add = @PR_bldn_ARC
	}
	##	普通
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { is_regular_empire = yes } }
		trade_value_add = 4
		planet_amenities_add = 2
		job_clerk_add = 4
	}
	##	格式塔
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { is_gestalt = yes } }
		planet_housing_add = 2
		planet_amenities_no_happiness_add = 10
		job_maintenance_drone_add = 10
	}

	#	tr|公共服务|
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_active_tradition = tr_prosperity_public_works } }
		planet_housing_add = 3
	}
	#	tech|住房II|
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_technology = tech_housing_2 } }
		planet_housing_add = 4
	}
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_technology = tech_housing_2	has_ethic = ethic_gestalt_consciousness } }
		planet_amenities_no_happiness_add = 4
		job_maintenance_drone_add = 4
	}
	#	tr|虚拟闭门|
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_active_tradition = tr_virtuality_4	is_regular_empire = yes } }
		job_clerk_add = 6
	}
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_active_tradition = tr_virtuality_4	is_gestalt = yes } }
		job_maintenance_drone_add = 6
	}

	##	AI辅助	########################################
	ai_resource_production = {
		energy = 40
		mult = value:PR_prmt_sv_RES_produces_MULT_general
	}
}

###	PR冶金城
PR_district_ARC_forge = {
	base_buildtime = @TIME_cost
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes

	show_on_uncolonized = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
	}
	potential = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
	}
	conversion_ratio = 0.5
	convert_to = {
		PR_district_ARC_factory	# PR制造城
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @BASE_cost
			volatile_motes = @ADV_cost
		}
		upkeep = {
			energy = @BASE_upkeep
			volatile_motes = @ADV_upkeep
		}
		upkeep = {
			trigger = { exists = owner	owner = { has_edict = industrial_maintenance } }
			energy = 2
		}
	}

	planet_modifier = {
		planet_housing_add = 10
		planet_max_buildings_add = @PR_bldn_ARC
		PR_smod_plnt_RES_JIC_planet_metallurgists = 8
		PR_smod_plnt_WORKSHOP_add = 8
		PR_smod_plnt_RES_CAT_planet_metallurgists = 8
		PR_smod_plnt_TALLY_facility_DSTR_industrail = 1
	}
	#	pm|工业维护|
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_edict = industrial_maintenance } }
		planet_amenities_no_happiness_add = 1
		job_maintenance_drone_add = 1
	}
	

	triggered_desc = {
		trigger = { exists = owner		owner = { is_regular_empire = yes	is_catalytic_empire = no } }
		text = job_foundry_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner		owner = { is_regular_empire = yes	is_catalytic_empire = yes } }
		text = job_catalytic_technician_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner		owner = { is_hive_empire = yes	is_catalytic_empire = no } }
		text = job_alloy_drone_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner		owner = { is_machine_empire = yes	is_catalytic_empire = no } }
		text = job_fabricator_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner		owner = { is_gestalt = yes	is_catalytic_empire = yes } }
		text = job_catalytic_drone_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner		owner = { is_machine_empire = yes	has_edict = industrial_maintenance } }
		text = job_maintenance_drone_effect_desc
	}
	#	人力产出
	triggered_desc = {
		trigger = { has_owner = yes }
		text = PR_tip_OUTPUT_planet_metallurgists
	}

	##	AI辅助	########################################
	ai_resource_production = {
		alloys = 64	#4|8|200%
		mult = value:PR_prmt_sv_RES_produces_MULT|RES|alloys|CAT|planet_metallurgists|CHAIN|foundry|
	}
}
###	PR制造城
PR_district_ARC_factory = {
	base_buildtime = @TIME_cost
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes

	show_on_uncolonized = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		exists = from
		from = { country_uses_consumer_goods = yes }
	}
	potential = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		exists = owner
		owner = { country_uses_consumer_goods = yes }
	}
	conversion_ratio = 1
	convert_to = {
		PR_district_ARC_forge	# PR冶金城
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @BASE_cost
			rare_crystals = @ADV_cost
		}
		upkeep = {
			energy = @BASE_upkeep
			rare_crystals = @ADV_upkeep
		}
		upkeep = {
			trigger = { exists = owner	owner = { has_edict = industrial_maintenance } }
			energy = 2
		}
	}

	planet_modifier = {
		planet_housing_add = 10
		planet_max_buildings_add = @PR_bldn_ARC
		PR_smod_plnt_RES_JIC_planet_artisans = 8
		PR_smod_plnt_WORKSHOP_add = 8
		PR_smod_plnt_RES_CAT_planet_artisans = 8
		PR_smod_plnt_TALLY_facility_DSTR_industrail = 1
	}
	#	pm|工业维护|
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_edict = industrial_maintenance } }
		planet_amenities_no_happiness_add = 1
		job_maintenance_drone_add = 1
	}

	triggered_desc = {
		trigger = { exists = owner		owner = { is_regular_empire = yes	is_crafter_empire = no } }
		text = job_artisan_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner		owner = { is_regular_empire = yes	is_crafter_empire = yes } }
		text = job_artificer_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner		owner = { is_gestalt = yes } }
		text = job_artisan_drone_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner		owner = { is_machine_empire = yes	has_edict = industrial_maintenance } }
		text = job_maintenance_drone_effect_desc
	}
	#	人力产出
	triggered_desc = {
		trigger = { has_owner = yes }
		text = PR_tip_OUTPUT_planet_artisans
	}

	##	AI辅助	########################################
	ai_resource_production = {
		consumer_goods = 128	#8|8|200%
		mult = value:PR_prmt_sv_RES_produces_MULT|RES|consumer_goods|CAT|planet_artisans|CHAIN|factory|
	}
}

###	PR文化城
PR_district_ARC_culture = {
	base_buildtime = @TIME_cost
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes

	show_on_uncolonized = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		from = {
			is_regular_empire = yes
			NOT = { has_civic = civic_dystopian_society }
		}
	}
	potential = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		exists = owner
		owner = {
			is_regular_empire = yes
			NOT = { has_civic = civic_dystopian_society }
		}
	}
	conversion_ratio = 1
	convert_to = {
		PR_district_ARC_culture	# PR文化城
		PR_district_ARC_culture_sanctuary
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @BASE_cost
			exotic_gases = @ADV_cost
		}
		upkeep = {
			energy = @BASE_upkeep
			exotic_gases = @ADV_upkeep
		}
	}

	planet_modifier = {
		planet_housing_add = 10
		planet_max_buildings_add = @PR_bldn_ARC
		planet_amenities_add = 16
		job_entertainer_add = 8
	}
	#	civic|尚武文化|
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_valid_civic = civic_warrior_culture } }
		job_entertainer_add = -8
		job_duelist_add = 8
	}

	triggered_desc = {
		trigger = { exists = owner		owner = { has_valid_civic = civic_warrior_culture } }
		text = job_duelist_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner		NOT = { owner = { has_valid_civic = civic_warrior_culture } } }
		text = job_entertainer_effect_desc
	}

	##	AI辅助	########################################
	ai_resource_production = {
		unity = 32	#2|8|200%
		mult = value:PR_prmt_sv_RES_produces_MULT|RES|unity|CAT|planet_entertainers|CHAIN|culture|
	}
}
PR_district_ARC_culture_sanctuary = {
	base_buildtime = @TIME_cost
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes

	show_on_uncolonized = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		from = {
			has_valid_civic = civic_machine_servitor
		}
	}
	potential = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		exists = owner
		owner = {
			has_valid_civic = civic_machine_servitor
		}
	}
	conversion_ratio = 1
	convert_to = {
		PR_district_ARC_culture	# PR文化城
		PR_district_ARC_culture_sanctuary
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @BASE_cost
			exotic_gases = @ADV_cost
		}
		upkeep = {
			energy = @BASE_upkeep
			exotic_gases = @ADV_upkeep
		}
	}

	planet_modifier = {
		planet_housing_add = 10
		planet_max_buildings_add = @PR_bldn_ARC
		planet_amenities_no_happiness_add = 2
		planet_jobs_complex_drone_produces_mult = 0.03
		job_bio_trophy_add = 15
		job_maintenance_drone_add = 2
	}

	triggered_desc = {
		text = job_bio_trophy_effect_desc
	}
	triggered_desc = {
		text = job_maintenance_drone_effect_desc
	}

	##	AI辅助	########################################
	ai_resource_production = {
		energy = 8
		unity = 90
		mult = value:PR_prmt_sv_RES_produces_MULT_general
	}
}

###	PR行政城
PR_district_ARC_administrative = {
	base_buildtime = @TIME_cost
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes

	show_on_uncolonized = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		from = {
			OR = {
				AND = {
					is_regular_empire = yes
					is_spiritualist = no
					has_make_spiritualist_perk = no
				}
				AND = {
					is_machine_empire = yes
					NOT = { has_valid_civic = civic_machine_servitor }
				}
			}
		}
	}
	potential = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		exists = owner
		owner = {
			OR = {
				AND = {
					is_regular_empire = yes
					is_spiritualist = no
					has_make_spiritualist_perk = no
				}
				AND = {
					is_machine_empire = yes
					NOT = { has_valid_civic = civic_machine_servitor }
				}
			}
		}
	}
	conversion_ratio = 1
	convert_to = {
		PR_district_ARC_administrative	# PR管理城
		PR_district_ARC_administrative_religious
		PR_district_ARC_administrative_necroid
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @BASE_cost
			rare_crystals = @ADV_cost
		}
		upkeep = {
			energy = @BASE_upkeep
			rare_crystals = @ADV_upkeep
		}
	}

	planet_modifier = {
		planet_housing_add = 10
		planet_max_buildings_add = @PR_bldn_ARC
	}
	##	普通
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { is_megacorp = no		is_worker_coop_empire = no } }
		planet_stability_add = 2
		job_bureaucrat_add = 8
		mult = value:PR_var_plnt_MULT_district_ARC_administrative
	}
	##	巨企
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { is_megacorp = yes		is_worker_coop_empire = no } }
		trade_value_add = 4
		job_manager_add = 8
		mult = value:PR_var_plnt_MULT_district_ARC_administrative
	}
	##	工人合作社
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { is_worker_coop_empire = yes } }
		trade_value_add = 2
		planet_amenities_add = 2
		job_steward_add = 8
		mult = value:PR_var_plnt_MULT_district_ARC_administrative
	}
	##	智械+tr|虚拟4|
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { is_machine_empire = yes } }
		job_coordinator_add = 6
	}
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { is_machine_empire = yes	has_tradition = tr_virtuality_4 } }
		job_coordinator_add = 3
	}

	triggered_desc = {
		trigger = { exists = owner	owner = { is_megacorp = no		is_worker_coop_empire = no } }
		text = job_bureaucrat_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner	owner = { is_megacorp = yes		is_worker_coop_empire = no } }
		text = job_manager_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner	owner = { is_worker_coop_empire = yes } }
		text = job_steward_effect_desc
	}

	##	AI辅助	########################################
	ai_resource_production = {
		unity = 64	#4|8|200%
		mult = value:PR_prmt_sv_RES_produces_MULT|RES|unity|CAT|planet_administrators|CHAIN|culture|MULT|value:PR_var_plnt_MULT_district_ARC_administrative|
	}
}
PR_district_ARC_administrative_religious = {
	base_buildtime = @TIME_cost
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes

	show_on_uncolonized = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		from = {
			OR = {
				is_spiritualist = yes
				has_make_spiritualist_perk = yes
			}
			is_death_cult_empire = no
		}	
	}
	potential = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		exists = owner
		owner = {
			OR = {
				is_spiritualist = yes
				has_make_spiritualist_perk = yes
			}
			is_death_cult_empire = no
		}
	}
	conversion_ratio = 1
	convert_to = {
		PR_district_ARC_administrative	# PR管理城
		PR_district_ARC_administrative_religious
		PR_district_ARC_administrative_necroid
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @BASE_cost
			rare_crystals = @ADV_cost
		}
		upkeep = {
			energy = @BASE_upkeep
			rare_crystals = @ADV_upkeep
		}
	}

	planet_modifier = {
		planet_housing_add = 10
		planet_max_buildings_add = @PR_bldn_ARC
	}
	
	##	普通
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { is_megacorp = no		NOT = { has_origin = origin_cybernetic_creed } } }
		planet_amenities_add = 4
		job_priest_add = 8
		mult = value:PR_var_plnt_MULT_district_ARC_administrative
	}
	##	巨企
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { is_megacorp = yes		NOT = { has_origin = origin_cybernetic_creed } } }	
		trade_value_add = 2
		planet_amenities_add = 2
		job_preacher_add = 8
		mult = value:PR_var_plnt_MULT_district_ARC_administrative
	}
	##	机械教
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_origin = origin_cybernetic_creed } }	# mutually exclusive with Death Cults
		planet_amenities_add = 4
		job_haruspex_add = 8
		mult = value:PR_var_plnt_MULT_district_ARC_administrative
	}
	
	triggered_desc = {
		trigger = { exists = owner	owner = { is_megacorp = no		NOT = { has_origin = origin_cybernetic_creed } } }
		text = job_priest_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner	owner = { is_megacorp = yes		NOT = { has_origin = origin_cybernetic_creed } } }
		text = job_preacher_effect_desc
	}
	triggered_desc = {
		trigger = { exists = owner	owner = { has_origin = origin_cybernetic_creed } }
		text = job_haruspex_effect_desc
	}

	##	AI辅助	########################################
	ai_resource_production = {
		unity = 64	#4|8|200%
		mult = value:PR_prmt_sv_RES_produces_MULT|RES|unity|CAT|planet_administrators|CHAIN|culture|
	}
}
PR_district_ARC_administrative_necroid = {
	base_buildtime = @TIME_cost
	is_capped_by_modifier = no
	exempt_from_ai_planet_specialization = yes

	show_on_uncolonized = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		from = { is_death_cult_empire = yes }	
	}
	potential = {
		uses_district_set = city_world
		has_planet_flag = PR_flg_plnt_VALID
		exists = owner
		owner = { is_death_cult_empire = yes }
	}
	conversion_ratio = 1
	convert_to = {
		PR_district_ARC_administrative	# PR管理城
		PR_district_ARC_administrative_religious
		PR_district_ARC_administrative_necroid
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = @BASE_cost
			rare_crystals = @ADV_cost
		}
		upkeep = {
			energy = @BASE_upkeep
			rare_crystals = @ADV_upkeep
		}
	}

	planet_modifier = {
		planet_housing_add = 10
		planet_max_buildings_add = @PR_bldn_ARC
		planet_amenities_add = 2.5
		job_death_priest_add = 5
		job_mortal_initiate_add = 3
	}
	#	tr|虚拟4|
	triggered_planet_modifier = {
		potential = { exists = owner	owner = { has_active_tradition = tr_virtuality_4 } }
		planet_amenities_add = 1
		job_death_priest_add = 2
	}

	triggered_desc = {
		text = jobs_death_priest_and_mortal_initiate_effect_desc
	}

	##	AI辅助	########################################
	ai_resource_production = {
		unity = 48	#4|6|200%
		mult = value:PR_prmt_sv_RES_produces_MULT|RES|unity|CAT|planet_administrators|CHAIN|culture|
	}
}
