#	AAR转化
#	资源条约


# Defines the different values available for given Agreement terms. The terms are defined in agreement_terms scripts.
# The term values contain the main logic of Agreement terms, including the modifiers and effects.
# For Subject Agreements, the owner is the overlord and the target is the subject.

# Example:
#
# name_of_term_value = {
# 	term = name_of_term 					# References the term in agreement_terms that this value applies to
#
# 	owner_modifier = {						# A modifier that applies to the Agreement owner country. Can stack multiple times.
# 		my_owner_modifier = 1
# 	}
# 	target_modifier = {						# A modifier that applies to the Agreement target country. Can stack multiple times.
# 		my_target_modifier = 1
# 	}
# 	unique_owner_modifier = {				# A modifier that applies to the Agreement owner country. Only applies once.
# 		my_unique_owner_modifier = 1
# 	}
# 	unique_target_modifier = {				# A modifier that applies to the Agreement target country. Only applies once.
# 		my_unique_target_modifier = 1
# 	}
# 	loyalty_change = value					# How much the subject's loyalty will change when a new agreement with this term starts
# 	ai_acceptance = {
#		overlord = 1						# Willingness of AI overlord to accept this term
#		subject = 1							# Willingness of AI subject to accept this term
#	}
# 	triggered_loyalty_change = {			# How much the subject's loyalty will additionally change when a new agreement with this term starts, if "trigger" is true
# 		trigger = {
# 			agreement_scope_trigger
# 		}
# 		loyalty_change = value
#		ai_acceptance = {
#			overlord = 1
#			subject = 1
#		}
# 	}
# 	extra_term_text_subject = <LOC_KEY> 	# What should be shown in the "extra terms" panel for the subject if this term value is active (default is to not show it)
# 											# This loc key can use $SUBJECT$ and $OVERLORD$ to show the name of the relevant empire, and $MODIFIER$ to show the modifiers applying to the subject
# 	extra_term_text_overlord = <LOC_KEY>	# What should be shown in the "extra terms" panel for the overlord if this term value is active (default is to not show it)
# 											# Loc key can use $SUBJECT$ and $OVERLORD$ to show the name of the relevant empire, $MODIFIER$ for the overlord's modifiers, and $RESOURCES$ for the net resources it gains
# }
#
# name_of_resource_term_value = {
# 	term = name_of_resource_term
#	resource = <resource> (food/alloys/...)
# }



#########################
# RESOURCE CONTRIBUTION #
#########################

@subsidy_multiplier_basic = 0.5
@subsidy_multiplier_advanced = 0.5
@subsidy_multiplier_research = 1
@subsidy_multiplier_strategic = 1.5

@subsidy_monthly_multiplier_basic = 5
@subsidy_monthly_multiplier_advanced = 5
@subsidy_monthly_multiplier_research = 5
@subsidy_monthly_multiplier_strategic = 5

# When changing the maximum and minimum values here the following should also be updated:
# In agreement_negotiation_view.gui
#	maxValue =
#	minValue =
#	stepSize =
# In 00_defines.txt:
#	AGREEMENT_RESOURCE_SUBSIDIES_MIN
#	AGREEMENT_RESOURCE_SUBSIDIES_MAX
@subsidy_minimum = -0.75
@subsidy_maximum = 0.75

@set_factor_0 = 0.15
@set_factor_0_neg = -0.15
@set_factor_1 = 0.30
@set_factor_1_neg = -0.30
@set_factor_2 = 0.45
@set_factor_2_neg = -0.45
@set_factor_3 = 0.60
@set_factor_3_neg = -0.60




###	资源条约	############################################################
resource_subsidies_basic = {
	term = resource_subsidies
	resources = {
		energy
		minerals
		food
	}

	subsidy_multiplier = @subsidy_multiplier_basic
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_basic

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = @set_factor_1
			OR = {
				agreement_preset = preset_prospectorium
				agreement_preset = preset_tributary
				agreement_preset = preset_subsidiary
				agreement_preset = preset_relic_satrapy
			}
		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
			}
		}
		
		##	|AAR转化|
		modifier = {
			set = AAR_var_agrm_RES_basic_MIN
			is_variable_set = AAR_var_agrm_RES_basic_MIN
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = @set_factor_1_neg
			agreement_preset = preset_bulwark
		}

		modifier = {
			set = @set_factor_2_neg
			agreement_preset = preset_bulwark
			has_active_specialization = specialist_bulwark
			specialist_tier = 2
		}

		modifier = {
			set = @set_factor_3_neg
			agreement_preset = preset_bulwark
			has_active_specialization = specialist_bulwark
			specialist_tier = 3
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_protectorate
			}
		}

		##	|AAR转化|
		modifier = {
			set = AAR_var_agrm_RES_basic_MAX
			is_variable_set = AAR_var_agrm_RES_basic_MAX
		}
	}
}

resource_subsidies_advanced = {
	term = resource_subsidies

	resources = {
		alloys
		consumer_goods
	}

	subsidy_multiplier = @subsidy_multiplier_advanced
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_advanced

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = @set_factor_0
			agreement_preset = preset_prospectorium
		}

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
				agreement_preset = preset_relic_satrapy
			}
		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
			}
		}

		##	|AAR转化|
		modifier = {
			set = AAR_var_agrm_RES_industrail_MIN
			is_variable_set = AAR_var_agrm_RES_industrail_MIN
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_protectorate
				agreement_preset = preset_bulwark
			}
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_relic_satrapy
			}
		}
		
		##	|AAR转化|
		modifier = {
			set = AAR_var_agrm_RES_industrail_MAX
			is_variable_set = AAR_var_agrm_RES_industrail_MAX
		}
	}
}

resource_subsidies_research = {
	term = resource_subsidies

	resources = {
		physics_research
		society_research
		engineering_research
	}

	subsidy_multiplier = @subsidy_multiplier_research
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_research

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
				agreement_preset = preset_relic_satrapy
			}
		}

		modifier = {
			set = @set_factor_1
			agreement_preset = preset_scholarium
		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_bulwark
			}
		}
		
		##	|AAR转化|
		modifier = {
			set = AAR_var_agrm_RES_research_MIN
			is_variable_set = AAR_var_agrm_RES_research_MIN
		}
	}

	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_protectorate
				agreement_preset = preset_relic_satrapy
			}
		}

		modifier = {
			set = @set_factor_1_neg
			agreement_preset = preset_prospectorium
		}

		modifier = {
			set = @set_factor_2_neg
			agreement_preset = preset_prospectorium
			has_active_specialization = specialist_prospectorium
			specialist_tier = 2
		}

		modifier = {
			set = @set_factor_3_neg
			agreement_preset = preset_prospectorium
			has_active_specialization = specialist_prospectorium
			specialist_tier = 3
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_bulwark
			}
		}
		
		##	|AAR转化|
		modifier = {
			set = AAR_var_agrm_RES_research_MAX
			is_variable_set = AAR_var_agrm_RES_research_MAX
		}
	}
}

resource_subsidies_strategic = {
	term = resource_subsidies
	resources = {
		volatile_motes
		exotic_gases
		rare_crystals
	}
	subsidy_multiplier = @subsidy_multiplier_strategic
	subsidy_monthly_multiplier = @subsidy_monthly_multiplier_strategic

	resource_min = {
		base = @subsidy_minimum

		modifier = {
			set = 0.0
			OR = {
				agreement_preset = preset_subsidiary
				agreement_preset = preset_tributary
				agreement_preset = preset_prospectorium
				agreement_preset = preset_relic_satrapy
			}
		}

		modifier = {
			set = @set_factor_1
			agreement_preset = preset_prospectorium
			has_active_specialization = specialist_prospectorium
			OR = {
				specialist_tier = 2
				specialist_tier = 3
			}

		}

		modifier = {
			set = @set_factor_2_neg
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
			}
		}
		
		##	|AAR转化|
		modifier = {
			set = AAR_var_agrm_RES_refining_MIN
			is_variable_set = AAR_var_agrm_RES_refining_MIN
		}
	}
	resource_max = {
		base = @subsidy_maximum

		modifier = {
			set = 0.0
			agreement_preset = preset_protectorate
		}

		modifier = {
			set = @set_factor_1
			agreement_preset = preset_relic_satrapy
		}

		modifier = {
			set = @set_factor_2
			OR = {
				agreement_preset = preset_vassal
				agreement_preset = preset_scholarium
				agreement_preset = preset_bulwark
			}
		}
		
		##	|AAR转化|
		modifier = {
			set = AAR_var_agrm_RES_refining_MAX
			is_variable_set = AAR_var_agrm_RES_refining_MAX
		}
	}
}

