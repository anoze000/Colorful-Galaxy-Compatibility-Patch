@base_cost = 300
@city_cost = 500
@hab_cost = 500
@hab_maintenance = 2
@low_hab_maintenance = 0.2
@hab_time = 240
@hab_jobs = 2
@rw_cost = 1000
@rw_cost_sr = 50
@rw_maintenance = 5
@rw_maintenance_sr = 2
@rw_district_buildtime = 360

# district_industrial

district_arcology_civilian_industry = {
	base_buildtime = 600
	is_capped_by_modifier = no

	show_on_uncolonized = {
		uses_district_set = city_world
		NOT = { has_planet_flag = PR_flg_plnt_VALID }	# |PR转化|
		exists = solar_system.owner
		solar_system.owner = {
			country_uses_consumer_goods = yes
		}
	}

	potential = {
		uses_district_set = city_world
		NOT = { has_planet_flag = PR_flg_plnt_VALID }	# |PR转化|
		exists = owner
		owner = {
			OR = {
				is_gestalt = no
				country_uses_consumer_goods = yes
			}
		}
	}

	conversion_ratio = 1
	convert_to = {
		district_city
		district_nexus
		district_hive
		#	|PR转化|
		PR_district_ARC_factory	# PR制造城
	}

	resources = {
		category = planet_districts
		cost = {
			minerals = 1000
			rare_crystals = 50
		}
		upkeep = {
			energy = 5
			rare_crystals = 1
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_edict = industrial_maintenance
				}
			}
			energy = 2
		}
	}

	planet_modifier = {
		planet_housing_add = 10
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { is_gestalt = yes }
		}
		modifier = {
			job_artisan_drone_add = 6
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = no
			}
		}
		modifier = {
			job_artisan_add = 6
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = yes
			}
		}
		modifier = {
			job_artificer_add = 6
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = no
			}
		}
		text = job_artisan_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = yes
			}
		}
		text = job_artificer_effect_desc
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_gestalt = yes
			}
		}
		text = job_artisan_drone_effect_desc
	}

	############################################
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_gestalt = yes
				NOT = { has_civic = civic_machine_crafters }
			}
		}
		modifier = {
			job_artisan_drone_add = 6
		}
	}
	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = { has_civic = civic_machine_crafters }
		}
		modifier = {
			job_artificer_drone_add = 6
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_regular_empire = yes }
			NOT = { owner = { has_civic = civic_crafters } }
		}
		text = job_artisan_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = { is_regular_empire = yes }
			owner = { has_civic = civic_crafters }
		}
		text = job_artificer_effect_desc
	}
	
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_valid_civic = civic_machine_servitor
				NOT = { has_civic = civic_machine_crafters }
			}
		}
		text = job_artisan_drone_effect_desc
	}
	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_valid_civic = civic_machine_servitor
				has_civic = civic_machine_crafters
			}
		}
		text = job_artificer_drone_effect_desc
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		modifier = {
			job_maintenance_drone_add = 1
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		text = job_maintenance_drone_effect_desc
	}
}
district_hab_industrial = {
	base_buildtime = @hab_time
	is_capped_by_modifier = no

	show_on_uncolonized = {
		uses_district_set = habitat
		NOT = { has_planet_flag = PR_flg_plnt_VALID }	# |PR转化|
	}

	potential = {
		uses_district_set = habitat
		NOT = { has_planet_flag = PR_flg_plnt_VALID }	# |PR转化|
	}
	convert_to = {
		#	|PR转化|
		PR_district_HAB_industrial	# PR工业站
	}

	resources = {
		category = planet_districts_hab_industrial
		cost = {
			minerals = @hab_cost
		}
		upkeep = {
			energy = @hab_maintenance
			alloys = @low_hab_maintenance
		}
		upkeep = {
			trigger = {
				exists = owner
				owner = {
					has_edict = industrial_maintenance
				}
			}
			energy = 2
		}
	}

	planet_modifier = {
		planet_housing_add = 3
		planet_max_buildings_add = 0.25
	}

	inline_script = {
		script = jobs/industrial_districts_factory_add
		AMOUNT = 1
	}

	inline_script = {
		script = jobs/industrial_districts_foundry_add
		AMOUNT = 1
	}

	# Void Dweller Extra Jobs
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = no
				is_void_dweller_empire = yes
			}
		}
		modifier = {
			job_foundry_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_regular_empire = yes
				is_catalytic_empire = yes
				is_void_dweller_empire = yes
			}

		}
		modifier = {
			job_catalytic_technician_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_hive_empire = yes
				is_catalytic_empire = no
				is_void_dweller_empire = yes
			}
		}
		modifier = {
			job_alloy_drone_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_machine_empire = yes
				is_catalytic_empire = no
				is_void_dweller_empire = yes
			}
		}
		modifier = {
			job_fabricator_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = no
			exists = owner
			owner = {
				is_gestalt = yes
				is_catalytic_empire = yes
				is_void_dweller_empire = yes
			}

		}
		modifier = {
			job_catalytic_drone_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = no
				is_void_dweller_empire = yes
			}
		}
		modifier = {
			job_artisan_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_regular_empire = yes
				is_crafter_empire = yes
				is_void_dweller_empire = yes
			}
		}
		modifier = {
			job_artificer_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_gestalt = yes
				country_uses_consumer_goods = yes
				is_crafter_empire = no
				is_void_dweller_empire = yes
			}
		}
		modifier = {
			job_artisan_drone_add = 1
		}
	}
	triggered_planet_modifier = {
		potential = {
			has_factory_designation = yes
			exists = owner
			owner = {
				is_gestalt = yes
				country_uses_consumer_goods = yes
				is_crafter_empire = no
				is_void_dweller_empire = yes
			}
		}
		modifier = {
			job_artificer_drone_add = 1
		}
	}
	
	#兼容更多思潮（完整版）
	triggered_planet_modifier = {
		potential = {
			has_global_flag = cultural_overhaul_active
			has_global_flag = ethic_civic_classic_active
			exists = owner
            owner = { or = {  has_valid_civic = civic_shared_burden  } } 
		}
		modifier = {
			planet_housing_add = 1
		}
	}

	triggered_planet_modifier = {
		potential = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		modifier = {
			job_maintenance_drone_add = 1
		}
	}

	triggered_desc = {
		trigger = {
			exists = owner
			owner = {
				is_machine_empire = yes
				has_edict = industrial_maintenance
			}
		}
		text = job_maintenance_drone_effect_desc
	}
}
# district_rw_industrial